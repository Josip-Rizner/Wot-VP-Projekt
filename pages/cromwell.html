<!doctype html>
<html lang="en">
  <head>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://yui-s.yahooapis.com/pure/0.5.0/pure-min.css">
    <script src="https://rawgit.com/tpreusse/radar-chart-d3/master/src/radar-chart.js"></script>
    <link rel="stylesheet" href="../static/css/radar_chart.css">
    <script src="../static/js/cromwell.js"></script>


    <title>Wot - Tank statistics</title>
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <img src="../static/images/wot_logo_white.png" style="max-height: 40px;">

        
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>
            </ul>
        
        </div>
    </nav>

    <main role="main">

      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron">
        <div class="container" style="height: 200px;">
            <div class="row" style="align-items: center;">
                <img src="../static/images/uk_small.png" style="float: left; max-height: 50px; width: auto;">
                <img src="../static/images/medium_tank.png" style="float: left; max-height: 50px; width: auto;">
                <h1 class="display-5"><strong>VI -</strong> Cromwell</h1>
            </div>

            <div class="col-sm-3" style="float: left;">
                <img src="../static/images/cromwell.png" class="card-img-top" style="max-height: 200px; width: auto;">
            </div class="col-sm-9">
            <div>
                <p style="margin-top: 30px;">The Cromwell was developed in 1941–1942 by BRC&W. A total of 1,070 vehicles were mass-produced from late 1943 through 1945. They were extensively used by the British Army in the Northwest Europe Campaign of 1944–1945.</p>
            </div>
        </div>
      </div>

      <div>
        <div class="row">
          <div class="col-sm-6" style="padding: 10px 10px 10px 30px;">
              <table class="table table-hover table-sm table-dark">
                  <thead>
                    <tr style="background-color: #1a1919;">
                      <td colspan="2">Mark</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Mark</td>
                      <td>Otto</td>
                    </tr>
                    <tr>
                      <td>Jacob</td>
                      <td>Thornton</td>
                    </tr>
                    <tr>
                      <td>Larry</td>
                      <td>the Bird</td>
                    </tr>
                    <tr>
                      <td>Mark</td>
                      <td>Otto</td>
                    </tr>
                    <tr>
                      <td>Jacob</td>
                      <td>Thornton</td>
                    </tr>
                    <tr>
                      <td>Larry</td>
                      <td>the Bird</td>
                    </tr>
                    <tr>
                      <td>Mark</td>
                      <td>Otto</td>
                    </tr>
                    <tr>
                      <td>Jacob</td>
                      <td>Thornton</td>
                    </tr>
                    <tr>
                      <td>Larry</td>
                      <td>the Bird</td>
                    </tr>
                  </tbody>
                </table>
            
          </div>

          <div class="col-sm-6" id="radar_chart" style="padding-left: 150px; padding-top: 50px;">
            <script>

              RadarChart.defaultConfig.color = function() {};
              RadarChart.defaultConfig.radius = 5;
              RadarChart.defaultConfig.w = 400;
              RadarChart.defaultConfig.h = 400;

              var data = [
                {
                  className: 'specific',
                  axes: [
                    {axis: "strength", value: 13}, 
                    {axis: "intelligence", value: 6}, 
                    {axis: "charisma", value: 5},  
                    {axis: "dexterity", value: 9},  
                    {axis: "luck", value: 2}
                  ]
                },
                {
                  className: 'average',
                  axes: [
                    {axis: "strength", value: 6}, 
                    {axis: "intelligence", value: 7}, 
                    {axis: "charisma", value: 10},  
                    {axis: "dexterity", value: 13},  
                    {axis: "luck", value: 9}
                  ]
                }
              ];

              var chart = RadarChart.chart();
              var cfg = chart.config(); // retrieve default config
              var svg = d3.select('#radar_chart').append('svg')
                .attr('width', cfg.w + cfg.w + 50)
                .attr('height', cfg.h + cfg.h / 4);
              svg.append('g').classed('single', 1).datum(data).call(chart);
            </script>
          </div>


        </div>

        <div class="row">
          <button  id="replay" class="btn btn-primary" style="margin-left: 40%;">Replay</button>
          <h3 style="margin-left: 15px;">Sheel speed over 1000 meters</h3>

          <div id="shell_speed">
            
            <script>
                var data = [
                    {
                        "type": "AP",
                        "speed": "500"
                    },
                    {
                        "type": "APCR",
                        "speed": "1500"
                    },
                    {
                        "type": "HEAT",
                        "speed": "1000"
                    }
                    ];  

                function translate_x(d) {
                  return "translate(" + 1300 + "," + 0 + ")";
                }

                function translate_back(d) {
                  return "translate(" + 0 + "," + 0 + ")";
                }

                var width = 1500;
                var height = 300;
                
                var svg = d3.select('#shell_speed').append('svg')
                  .attr('width', width)
                  .attr('height',height)
                  //.style("background", "lightgray")
                  .style("margin", "25px")
                  .style("padding", "25px");

                // Create scale
                var scale = d3.scale.linear()
                  .domain([0, 1000])
                  .range([100, 1400]);

                  // Add scales to axis
                var x_axis = d3.svg.axis()
                    .scale(scale);
                
                //Append group and insert axis
                svg.append("g")
                  .call(x_axis)
                  .attr("x", 50)
                  .attr("y", 100)
                  .append('svg:text')
                  .attr('text-anchor', 'middle')
                  .attr('transform', 'rotate(-90)')
                  .text('Y Axis Label')

  
                /*var shell = svg.append('image')
                  .attr('xlink:href', '../static/images/AP.png')
                  .attr('width', 100)
                  .attr('height', 100)
                  //.attr('x', 50);*/

                var shells = svg.selectAll("image.shells")
                  .data(data)
                  .enter()
                  .append("svg:image")
                  .attr("x", function(d){return  60})
                  .attr("y", function(d,i){ return 1 + (i)*70})
                  .attr('width',  150)
                  .attr('height', 150)
                  .attr("xlink:href", function(d){return `../static/images/${d.type}.png`});

                var shellTypes = svg.selectAll("h1")
                  .data(data)
                  .enter()
                  .append("svg:text")
                  .style("font-weight", "bold")
                  .text(function(d){return `${d.type}`})
                  .attr("x", function(d){return  0})
                  .attr("y", function(d,i){return 70 + (i)*70});
                  


                d3.select("#replay").on("click", function() {
                  shells.transition()
                  .duration(function(d,i){ return calculateDistancePerSecond(d.speed) *1000})
                  .ease("linear")
                  .attr("transform", translate_x)
                  .transition()
                    .duration(0)
                    .attr("transform", translate_back)
                });


                function calculateDistancePerSecond(speed){
                  return 1000/speed;
                }
                
            
            </script>
          </div>

        </div>
      </div>
  </body>
</html>
